<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Angular Controllers</title>
    <!-- Add the AngularJS CDN below -->
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.4.9/angular.min.js"></script>

</head>
<body ng-app="charlesApp">
<div ng-controller="formController as fc">
    <input type="text" placeholder="First Name" ng-model="fc.form.fName"><br>
    <input type="text" placeholder="Last Name" ng-model="fc.form.lName"><br>
    <input type="email" placeholder="Email" ng-model="fc.form.email"><br>
    <textarea rows="4" cols="30" placeholder="Comments  " ng-model="fc.form.comments" ng-disabled="fc.commentCharacters()"></textarea>
    <p>Characters remaining: {{ fc.maxLength - fc.form.comments.length }} </p>
    <br>
    <button ng-click="fc.add()">Add</button><br><br>
    <table>
        <tr>
            <th>Full Name</th>
            <th>Email</th>
            <th>Comments</th>
        </tr>
        <tr ng-repeat="person in fc.formArray">
            <td>{{ person.fName + " " + person.lName }}</td>
            <td>{{ person.email }}</td>
            <td>{{ person.comments }}</td>
        </tr>
    </table>
</div>
<script>
    var app = angular.module("charlesApp", []);

    app.controller("formController", function(){
        this.form = {};
        this.formArray = [];
        this.maxLength = 15;

        this.add = function(){
            this.formArray.push(this.form);
            this.emptyInputForm();
        }

        this.emptyInputForm = function(){
            this.form = {};
        }

        this.commentCharacters = function(){
            if (this.form.comments == undefined){
                return false;
            }
            return this.maxLength - this.form.comments.length <=0;
        }
    });
</script>
</body>
</html>